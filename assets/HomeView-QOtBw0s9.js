import{d as p,r as w,o as y,w as v,a as h,b as i,c,e as m,f as N,g as e,u,F as g,h as k,v as C,i as S,j as L,n as T,t as O}from"./index-DSeDmvje.js";const M=p("lottery",{state:()=>({lotteryReward:{},messageRewardCheck:[]}),actions:{LoadReward(){const s=localStorage.getItem("reward");s&&(this.lotteryReward=JSON.parse(s))},RandomReward(){const s=this.RewardNumberOne(),t={rewardNumberOne:s,rewardNearbyNumberOne:this.RewardNearByNumberOne(s),rewardNumberTwo:this.RewardNumberTwo(),rewardLastTwo:this.RewardLastTwo(s)};this.lotteryReward=t,localStorage.setItem("reward",JSON.stringify(this.lotteryReward))},RewardNumberOne(){return Math.floor(Math.random()*1e3).toString().padStart(3,"0")},RewardNearByNumberOne(s){const t=[];switch(s){case"000":t[0]="999",t[1]="001";break;case"999":t[0]="998",t[1]="000";break;default:t[0]=(Number(s)-1).toString().padStart(3,"0"),t[1]=(Number(s)+1).toString().padStart(3,"0");break}return t},RewardNumberTwo(s){const t=["","",""];for(let r=0;r<t.length;r++){let o;do o=Math.floor(Math.random()*1e3).toString().padStart(3,"0");while(t.includes(o)||s===o);t[r]=o}return t},RewardLastTwo(s){return s.slice(-2)},CheckReward(s){const t=this.RewardLastTwo(s);this.messageRewardCheck=[],s===this.lotteryReward.rewardNumberOne&&this.messageRewardCheck.push("คุณถูกรางวัลที่ 1"),Array.isArray(this.lotteryReward.rewardNearbyNumberOne)&&this.lotteryReward.rewardNearbyNumberOne.includes(s)&&this.messageRewardCheck.push("คุณถูกเลขใกล้เคียงรางวัลที่ 1"),Array.isArray(this.lotteryReward.rewardNumberTwo)&&this.lotteryReward.rewardNumberTwo.includes(s)&&this.messageRewardCheck.push("คุณถูกรางวัลที่ 2"),this.lotteryReward.rewardLastTwo===t&&this.messageRewardCheck.push("คุณถูกรางวัลเลขท้าย 2 ตัว"),this.messageRewardCheck.length===0&&this.messageRewardCheck.push("คุณไม่ถูกรางวัล")}}}),V=e("header",{class:"text-center"},[e("h1",{class:"text-2xl lg:text-3xl font-bold"},"รางวัลล็อตเตอรี่")],-1),$={class:"grid grid-cols-1 items-center my-4 gap-4"},B={class:"flex flex-col items-center lg:items-start gap-4 w-full"},j=e("h2",{class:"text-xl text-center lg:text-2xl lg:text-start font-bold"}," ผลรการออกรางวัลล็อตเตอรี่ ",-1),A={class:"flex flex-col gap-4 items-start justify-between w-full lg:flex-row"},D=["checked"],E={class:"flex flex-col w-full"},F={class:"flex flex-col w-full gap-8 border border-gray-300 bg-gray-100 p-4"},H=e("h2",{class:"text-xl text-center lg:text-start lg:text-2xl font-bold"}," ตรวจรางวัลล็อตเตอรี่ ",-1),I={class:"w-full"},J={class:"form-control w-full items-center gap-4"},z={class:"flex flex-row w-full items-center gap-4"},U=e("p",{class:"text-md w-7/12 lg:text-lg lg:w-1/12 font-bold"},"เลขล็อตเตอรี่ :",-1),X=["disabled"],q={key:0,class:"flex flex-col gap-1 w-full"},G={id:"my_modal_1",class:"modal"},K={class:"modal-box"},P=e("h3",{class:"text-lg font-bold"},"แจ้งเตือน!",-1),Q=e("p",{class:"py-4"},"คุณได้ทำการสุ่มรางวัลไปแล้ว ต้องารสุ่มใหม่ หรือ ไม่",-1),W={class:"modal-action"},Y={method:"dialog",class:"flex justify-between w-full"},Z={class:"mr-6 lg:mr-0"},ee={class:"flex gap-1"},te=e("button",{class:"btn btn-outline"},"ยกเลิก",-1),ae={__name:"HomeView",setup(s){const t=M(),r=w(""),o=w(!1),n=w(!1);y(()=>{t.LoadReward()});const b=d=>typeof d=="string"&&d.length===3&&/^[0-9]{3}$/.test(d);v(()=>r.value,(d,a)=>{o.value=!1,b(d)&&(o.value=!0),d.length>3&&(r.value=a)},{immediate:!0});const f=()=>{Object.keys(t.lotteryReward).length!==0&&!n.value?my_modal_1.showModal():n.value=!0,n.value&&t.RandomReward()},_=()=>{t.CheckReward(r.value)};return(d,a)=>{const x=h("LotteryTable"),R=h("Layout");return i(),c(g,null,[m(R,null,{default:N(()=>[V,e("main",$,[e("section",B,[j,e("div",A,[e("button",{onClick:a[0]||(a[0]=l=>f()),class:"btn btn-outline shadow-md w-full lg:max-w-xs"}," ดำเนินการสุ่มรางวัล "),e("input",{onChange:a[1]||(a[1]=l=>n.value=!n.value),type:"checkbox",class:"toggle",checked:!!n.value},null,40,D)]),m(x,{tableValue:u(t).lotteryReward},null,8,["tableValue"])]),e("section",E,[e("div",F,[H,e("div",I,[e("label",J,[e("div",z,[U,k(e("input",{"onUpdate:modelValue":a[2]||(a[2]=l=>r.value=l),placeholder:"EX. (123)",type:"text",class:"input input-bordered w-full max-w-sm"},null,512),[[C,r.value]])])])]),e("button",{onClick:a[3]||(a[3]=l=>_()),class:"btn btn-outline shadow-md w-full lg:max-w-xs",disabled:!o.value}," ตรวจรางวัล ",8,X),u(t).messageRewardCheck.length>0?(i(),c("div",q,[(i(!0),c(g,null,S(u(t).messageRewardCheck,l=>(i(),c("p",{class:T(["p-2 text-lg",l==="คุณไม่ถูกรางวัล"?"bg-red-500":"bg-green-400"])},O(l),3))),256))])):L("",!0)])])])]),_:1}),e("dialog",G,[e("div",K,[P,Q,e("div",W,[e("form",Y,[e("div",Z,[e("button",{onClick:a[4]||(a[4]=l=>n.value=!0),class:"btn btn-outline"},"ไม่ต้องการเห็นแจ้งเตือนนี้อีก")]),e("div",ee,[e("button",{onClick:a[5]||(a[5]=l=>u(t).RandomReward()),class:"btn btn-outline"},"สุ่มใหม่"),te])])])])])],64)}}};export{ae as default};
